---
title: Formas de agregar un newsletter a tu sitio web blogdown
author: Francisco Yir√°
date: '2021-11-11'
slug: newsletters-blogdown
cover: "images/cover_newsletter.jpg"
useRelativeCover: true
categories:
  - data-science
  - rmarkdown
  - tutorial
tags:
  - blogdown
  - mailchimp
  - buttondown
  - newsletter
---

<script src="{{< blogdown/postref >}}index.es_files/header-attrs/header-attrs.js"></script>


<p>Este post es un poco <em>meta</em> (al hablar en el blog sobre algo del mismo blog), pero lo escrib√≠ porque al buscar tutoriales sobre c√≥mo implementar mi propio newsletter encontr√© muy poco materia: tuve que averiguar c√≥mo hacerlo mediante prueba y error, y adaptando instrucciones no pensadas para <code>hugo</code>/<code>blogdown</code>.</p>
<p>Me gustar√≠a que quienes est√°n buscando lograr lo mismo tengan las cosas m√°s f√°ciles, y para ello explico aqu√≠, paso a paso, <strong>3 formas distintas de implementar un newsletter en un sitio <code>blogdown</code></strong>.</p>
<p>Estas 3 formas de implementar un newsletter difieren en <strong>nivel de dificultad</strong>, y en qu√© tanta <strong>automatizaci√≥n y personalizaci√≥n</strong> permiten en el resultado final.</p>
<p>Debido a que es un tutorial paso a paso, el art√≠culo es bastante largo. Mi recomendaci√≥n es NO leerlo completo, sino que decidir primero cu√°l de los 3 m√©todos se ajusta m√°s a lo que buscas, y luego ir directo a la secci√≥n donde se explica ese m√©todo.</p>
<p>Estos 3 m√©todos son:</p>
<ol style="list-style-type: decimal">
<li><a href="#m√©todo-1-newsletter-manual-con-buttondown">M√©todo 1: newsletter manual con Buttondown</a>. Con este m√©todo cada vez que publiquemos un nuevo post tendremos que escribir manualmente el texto de un correo anunciando el art√≠culo, invitando a los suscriptores a hacer clic en un enlace y leerlo.</li>
<li><a href="#m√©todo-2-newsletter-automatizado-con-mailchimp-sin-segmentaci√≥n">M√©todo 2: newsletter automatizado con MailChimp, sin segmentaci√≥n</a>. Con este m√©todo usaremos el feed RSS del blog para crear una automatizaci√≥n en MailChimp, la cual enviar√° un correo a todos los suscriptores cada vez que se publique un nuevo art√≠culo.</li>
<li><a href="#m√©todo-3-newsletter-automatizado-y-segmentado-con-mailchimp">M√©todo 3: newsletter automatizado y segmentado con MailChimp</a>. Similar al m√©todo 2, pero con la sofisticaci√≥n de que los suscriptores pueden auto-seleccionarse en distintas listas de distribuci√≥n por tema o idioma (por ej, elegir recibir s√≥lo posts de Data Science en ingl√©s). Requiere crear una automatizaci√≥n por cada lista de distribuci√≥n segmentada, identificar feeds RSS espec√≠ficos para cada tema, y hacer ajustes en el gestor de audiencias de MailChimp, por lo que es m√°s complejo que el m√©todo 2.</li>
</ol>
<p>Abajo pueden un ver un cuadro resumen con las ventajas y desventajas de estos 3 m√©todos.</p>
<p><img src="images/summary__3ways_es.png" /></p>
<p>Los 3 m√©todos ofrecen formularios de suscripci√≥n para que los lectores se den de alta en el newsletter, as√≠ que no hay mucha diferencia entre ellos en este plano.</p>
<p>Adem√°s, notar que <strong>el m√©todo 1, el m√°s simple, s√≠ permite tener segmentaci√≥n de suscriptores</strong> (algo que el m√©todo 2 no tiene). La trampa aqu√≠ es que se trata de una segmentaci√≥n <em>manual</em>, en el sentido de que tendremos que escribir a mano los correos personalizados para cada segmento (no se enviar√°n autom√°ticamente a medida que publiquemos contenido en el blog).</p>
<p>Finalmente (antes de partir con los tutoriales en s√≠) a√±adir un par de consideraciones:</p>
<ul>
<li><p>En <code>blogdown</code> existen muchos casos particulares debido a que los distintos temas de <code>hugo</code> tienen diferentes caracter√≠sticas/funcionalidades, y puede que en algunos temas los pasos mostrados ac√° requieran de cierta adaptaci√≥n. Pero en la mayor√≠a de los casos todo deber√≠a funcionar de forma muy parecida (ü§ûüèº).</p></li>
<li><p>El post no se llama ‚Äú<em>Todas</em> las formas de agregar un newsletter‚Ä¶‚Äù. Si buscan en la web probablemente encontrar√°n muchos otros servicios de newsletter que tambi√©n podr√≠an integrarse con <code>blogdown</code> con algo de esfuerzo, y quiz√°s algunos de ellos sean m√°s sencillos o m√°s potentes que los mostrados ac√°. <strong>Mi intenci√≥n no es hacer una revisi√≥n exhaustiva de todos los m√©todos existentes para hacer un newsletter</strong> (eso ser√≠a un e-book, no un blogpost) sino que simplemente compartir con la comunidad los 3 m√©todos que encontr√© yo, con la idea de facilitar las cosas a quienes deseen hacer algo parecido.</p></li>
<li><p>El art√≠culo no asume conocimiento previo sobre Buttondown o MailChimp, pero s√≠ asume que tienes un buen manejo de <code>blogdown</code>, es decir, que sabes como crear y personalizar un sitio web mediante ese paquete. Si ese no es tu caso, puedes encontrar una muy buena introducci√≥n al tema en el libro <a href="https://bookdown.org/yihui/blogdown/"><em>blogdown: Creating Websites with R Markdown</em></a>.</p></li>
<li><p>Es un art√≠culo ‚Äúopinionado‚Äù. Cuando me propuse implementar un newsletter ten√≠a una idea muy clara de lo que quer√≠a lograr, y por ende los m√©todos que encontr√© y que estoy compartiendo ahora est√°n ‚Äúsesgados‚Äù en esa direcci√≥n.</p></li>
</ul>
<p>Y ya sin m√°s que agregar, paso a mostrarles los tutoriales de cada uno de los m√©todos.</p>
<div id="m√©todo-1-newsletter-manual-con-buttondown" class="section level2">
<h2>M√©todo 1: newsletter manual con Buttondown</h2>
<p>Si tienes un sitio en <code>blogdown</code> a modo de side-project y publicas ah√≠ s√≥lo ocasionalmente (una vez al mes o menos), tal vez no sea tan necesario tener un newsletter automatizado y puedes darte el lujo de anunciar tus nuevos posts de forma manual: escribiendo a mano correos invitando a leer cada nuevo art√≠culo y envi√°ndolos a una lista de distribuci√≥n de personas suscritas.</p>
<p>Si un newsletter de este tipo te suena bien, entonces quiz√°s <a href="https://buttondown.email/">Buttondown</a>, un servicio sencillo y f√°cil de configurar, sea la opci√≥n correcta para ti.</p>
<p>A continuaci√≥n explico el paso a paso de como usarlo:</p>
<div id="paso-a-paso" class="section level3">
<h3>Paso a paso</h3>
<div id="paso-1-crear-la-cuenta-y-el-newsletter" class="section level4">
<h4>Paso 1: Crear la cuenta y el newsletter</h4>
<p>Puedes crearte una cuenta de Buttondown desde <a href="https://buttondown.email/login">aqu√≠</a>. Luego de hacerlo ser√°s redirigido de inmediato a una p√°gina donde configurar el newsletter, indicando el t√≠tulo, descripci√≥n, y otras opciones (por ejemplo, si tener un archivo o un feed RSS para los correos enviados previadamente)<a href="#fn1" class="footnote-ref" id="fnref1"><sup>1</sup></a>.</p>
<div class="figure">
<img src="images/buttondown_setup.png" width="650" alt="" />
<p class="caption">As√≠ es la p√°gina de configuraci√≥n del newsletter en Buttondown. Esta aparecer√° justo despu√©s de crear tu cuenta.</p>
</div>
<p>Finalmente, en esta p√°gina es posible importar suscriptores en formato CSV, algo √∫til si est√°s migrando un newsletter desde otra plataforma, o si ya tienes una lista de personas que desean suscribirse.</p>
<p><img src="images/import_subscribers_buttondown.png" title="Importar suscriptores en Buttondown" width="450" /></p>
</div>
<div id="paso-2-implementar-el-formulario-de-suscripci√≥n" class="section level4">
<h4>Paso 2: Implementar el formulario de suscripci√≥n</h4>
<p>Una vez creada la cuenta y configurado el newsletter es necesario habilitar un mecanismo para que las personas se suscriban. En Buttondown esto se puede hacer en <a href="https://buttondown.email/share">la secci√≥n ‚ÄúEmbedding &amp; sharing‚Äù</a> del Men√∫ principal.</p>
<p><img src="images/embed_share_buttondown.png" title="Embedding and sharing en Buttondown" width="450" /></p>
<p>Desde aqu√≠ puedes elegir entre varios tipos de formularios de suscripci√≥n:</p>
<ul>
<li><p><strong>Formulario en Buttondown.email</strong>, con una URL √∫nica que puedes compartir o linkear desde tu blog (<a href="https://buttondown.email/franciscoyira">aqu√≠ un ejemplo</a>). Esta es la opci√≥n m√°s f√°cil: solo hay que tomar la URL y crear un link desde alg√∫n lugar visible en tu blog (por ej., la barra de navegaci√≥n).</p></li>
<li><p><strong>Formularios HTML/iFrame que puedes incrustar dentro de tu propio blog</strong>, as√≠ no es necesario que lectores vayan hacia una URL externa para suscribirse. Si vas por esta opci√≥n, recomendar√≠a escoger el formulario <strong>HTML</strong> (secci√≥n <em>‚ÄúShare as a form‚Äù</em> dentro de Buttondown) y no el iFrame. Para implementarlo hay que copiar el c√≥digo que sale ah√≠, y pegarlo en un archivo <code>.md</code> dentro de la carpeta con las p√°ginas de tu blog (usualmente es la carpeta <code>~/content</code>).</p></li>
</ul>
<p><a href="images/html_form_buttondown.png"><img src="images/html_form_buttondown.png" title="C√≥digo a copiar para tener formulario de suscripci√≥n incrustado con Buttondown. Clic para ver la imagen a tama√±o completo." width="750" /></a></p>
<p>Luego hay que hacer que la p√°gina con el formulario sea accesible desde la navegaci√≥n del blog, linkeandola desde la barra de navegaci√≥n o alg√∫n otro lugar visible.</p>
<p>Aqu√≠ recomendar√≠a nombrar <code>subscribe.md</code> o <code>suscribirse.md</code> a la p√°gina con el formulario. As√≠ dicha p√°gina ser√° accesible desde una URL como <code>baseURL/subscribe</code> (donde <code>baseURL</code> es la URL que nos lleva a la p√°gina de inicio del blog), la cual es f√°cil de compartir o agregar a la barra navegaci√≥n.</p>
<p>Un detalle importante respecto a los formularios HTML es que <strong>a veces no cargan, debido a una restricci√≥n del motor de renderizado de <code>hugo</code></strong>. Si te encuentras con este problema, puedes solucionarlo agregando esta porci√≥n de c√≥digo al final del archivo <code>config.toml</code> de tu sitio <code>blogdown</code>.</p>
<pre eval="FALSE"><code>[markup]
  [markup.goldmark]
    [markup.goldmark.renderer]
      unsafe = true</code></pre>
</div>
<div id="paso-3-listo-a-enviar-correos-manualmente" class="section level4">
<h4>Paso 3: ¬°Listo! A enviar correos (manualmente)</h4>
<p>Teniendo ya el newsletter configurado y una lista de suscriptores cargada, puedes empezar de inmediato a <strong>enviar boletines con los nuevos posts de tu blog</strong>. Para esto hay que ir al Men√∫ -&gt; opci√≥n <em>‚ÄúWrite‚Äù</em> (o directamente a <a href="buttondown.email/emails">buttondown.email/emails</a>) y escribir y enviar el bolet√≠n desde ah√≠. Incluso es posible programar el env√≠o para un momento posterior.</p>
<p><img src="images/escribir_correo_buttondown.png" title="Secci√≥n de redactar newsletters en Buttondown" width="750" /></p>
</div>
<div id="bonus-habilitar-tags-o-listas-de-suscriptores" class="section level4">
<h4>Bonus: Habilitar tags o listas de suscriptores</h4>
<p>Una funcionalidad interesante que ofrece Buttondown es la de segmentar la audiencia mediante <em>tags</em>. Esto es, agregar <em>etiquetas</em> a cada suscriptor para despu√©s enviar ciertos boletines s√≥lo a quienes poseen una determinada etiqueta.</p>
<p><img src="images/tags_idioma_buttondown.png" title="Usando tags para tener newsletter multilingue en buttondown" width="750" /></p>
<p>Un posible uso de esto es tener un <strong>newsletter multilingue</strong>, clasificando a los suscriptores seg√∫n su idioma de preferencia y luego enviando distintos correos a cada uno en el idioma correspondiente.</p>
<p>Mejor todav√≠a, se pueden crear distintos formularios de suscripci√≥n de forma tal que los tags se apliquen de forma autom√°tica seg√∫n el formulario utilizado. Para lograr esto solo hay que crear los tags y luego regresar al paso 2, donde ahora aparecer√° una opci√≥n para elegir el tag asociado al formulario que estamos creando.</p>
<p>Esto √∫ltimo funciona muy bien al combinarse con <a href="https://www.rstudio.com/resources/rstudioglobal-2021/an-easy-and-friendly-way-to-build-your-multilingual-website/">la funcionalidad multilingue de <code>hugo</code> y <code>blogdown</code></a>, permitiendo tener una p√°gina de suscripci√≥n distinta para cada idioma del sitio (por ejemplo, en mi blog tengo el formulario <a href="franciscoyira.com/subscribe">franciscoyira.com/subscribe</a> en ingl√©s y <a href="franciscoyira.com/es/subscribe">franciscoyira.com/es/subscribe</a> en espa√±ol).</p>
</div>
</div>
<div id="limitaciones-de-buttondown" class="section level3">
<h3>Limitaciones de Buttondown</h3>
<p>Un argumento en contra de usar Buttondown es que <strong>hace dif√≠cil o casi imposible tener newsletters automatizados con el contenido completo de los art√≠culos</strong>: al usar este servicio estamos ‚Äúcondenados‚Äù a escribir manualmente un correo cada vez que queramos anunciar un nuevo post.</p>
<p>Para lograr env√≠os automatizados en Buttondown es necesario conectarse con Zapier (servicio externo, que en muchas circunstancias termina siendo de pago), y cuando intent√© hacerlo, el correo automatizado que se gener√≥ no estaba bien formateado ni inclu√≠a im√°genes.</p>
<p>Quiz√°s investigando un poco m√°s sea posible corregir estos problemas, pero si ya te decidiste a tener un newsletter automatizado creo que <strong>MailChimp es mejor opci√≥n en ese caso</strong>, y por eso es el servicio que utilizaremos en el m√©todo 2.</p>
</div>
</div>
<div id="m√©todo-2-newsletter-automatizado-con-mailchimp-sin-segmentaci√≥n" class="section level2">
<h2>M√©todo 2: newsletter automatizado con MailChimp, sin segmentaci√≥n</h2>
<p>Ahora veremos c√≥mo implementar en MailChimp un newsletter que notifique autom√°ticamente a tus suscriptores cada vez que publiques un nuevo blogpost, sin necesidad de escribir correos manualmente.</p>
<p>Debido a que MailChimp es m√°s complejo de usar que Buttondown, intentar√© mantener esta secci√≥n f√°cil de seguir enfoc√°ndome primero en el caso m√°s b√°sico: <strong>una √∫nica lista de distribuci√≥n con todos los art√≠culos del blog</strong>. Posteriormente (en el m√©todo 3) cubrir√© el caso de listas de distribuci√≥n segmentadas (an√°logas a los tags de Buttondown) para enviar art√≠culos de distintos idiomas o temas seg√∫n las preferencias de tu audiencia.</p>
<p>Otra consideraci√≥n con MailChimp es que <strong>el contenido del newsletter estar√° determinado por el <a href="https://es.wikipedia.org/wiki/RSS">feed RSS</a> de tu blog</strong>. Si tu blog dispone de feeds RSS con contenido completo, entonces los suscriptores recibir√°n los posts completos en cada correo. Si no, los correos mostrar√°n solo un fragmento con el comienzo de cada art√≠culo, y los suscriptores tendr√°n que ir al blog para leer el resto<a href="#fn2" class="footnote-ref" id="fnref2"><sup>2</sup></a>.</p>
<div id="paso-a-paso-1" class="section level3">
<h3>Paso a paso</h3>
<div id="paso-1-registrarse-en-mailchimp-y-dar-una-direcci√≥n-f√≠sica" class="section level4">
<h4>Paso 1: Registrarse en MailChimp (y dar una direcci√≥n f√≠sica)</h4>
<p>Al igual que con Buttondown, el primer paso para usar MailChimp es <a href="https://login.mailchimp.com/signup/">crear una cuenta</a>. Sin embargo, aqu√≠ aparece una consideraci√≥n adicional: a causa del car√°cter m√°s ‚Äúprofesional‚Äù de este servicio <strong>se nos solicita registrar una direcci√≥n f√≠sica</strong>, debido a leyes anti-spam internacionales que obligan a dar tal informaci√≥n a quienes env√≠en correos masivos.</p>
<p>Esta direcci√≥n luego aparecer√° por defecto al pie de los correos enviados y en algunos formularios del flujo de suscripci√≥n (por ejemplo, cuando un suscriptor cambia sus preferencias). Es posible <a href="https://www.denisejoanne.com/remove-address-from-mailchimp-footer-confirmation/">ocultarla en algunos lugares</a>, pero no en todos, por lo que siempre habr√° p√°ginas p√∫blicas que muestren la direcci√≥n registrada.</p>
<p><strong>¬øQu√© hacer aqu√≠?</strong> Es natural que nos cause incomodidad publicar un dato as√≠ de sensible, pero si no ingresamos nada en ese campo, MailChimp simplemente no nos deja seguir.</p>
<p>Las <a href="https://eepurl.com/dyikOT">recomendaciones oficiales de MailChimp</a> para evitar dar la direcci√≥n de nuestro hogar son las siguientes:</p>
<ul>
<li><p>Dar la direcci√≥n de una universidad, en caso de ser estudiantes o estar afiliados a una instituci√≥n acad√©mica.</p></li>
<li><p>Dar la direcci√≥n de nuestro lugar de trabajo o de un espacio de <em>cowork</em>.</p></li>
<li><p>Contratar una casilla postal y usar esa direcci√≥n como informaci√≥n de contacto.</p></li>
</ul>
<p>En general, <strong>cualquier direcci√≥n donde podamos recibir y recoger correo f√≠sico ser√° una opci√≥n v√°lida</strong> que cumplir√° con la legislaci√≥n anti-spam.</p>
<p>Adem√°s de la disyuntiva de la direcci√≥n f√≠sica, al registrarnos en MailChimp tambi√©n debemos escoger el plan a contratar (aqu√≠ el gratuito deber√≠a ser suficiente si la lista de suscripci√≥n es peque√±a), y un ‚ÄúNombre del negocio‚Äù, que deber√≠a ser el nombre de nuestro sitio web o blog.</p>
<div class="figure">
<img src="images/planes_mailchimp.png" alt="" />
<p class="caption"><em>Los planes que ofrece MailChimp. Si reci√©n estamos empezando nuestro newsletter, el plan gratuito deber√≠a ser suficiente.</em></p>
</div>
<p>Finalmente (e igual que en Buttondown), se muestra una opci√≥n para importar direcciones de correo, √∫til si es que estamos migrando un newsletter existente. En caso contrario se puede omitir.</p>
<p>Y listo, con eso finaliza el registro y podemos avanzar al paso 2.</p>
</div>
<div id="paso-2-obtener-la-url-del-feed-rss-del-blog" class="section level4">
<h4>Paso 2: Obtener la URL del feed RSS del blog</h4>
<p>Para poder enviar los posts de forma autom√°tica a tus suscriptores es necesario contar con un feed RSS que se actualice cada vez que se publica un nuevo art√≠culo.</p>
<p>La mayor√≠a de los templates de <code>hugo</code> usados para <code>blogdown</code> entregan soporte nativo para RSS, disponibilizando un feed con los blogposts en una URL de este tipo:</p>
<p><code>baseURL/post/index.xml</code></p>
<p>Donde <code>baseURL</code> corresponde a la URL que nos lleva a la p√°gina principal del blog, y <code>post</code> es el nombre de la carpeta que contiene los art√≠culos en el repositorio del blog, y usualmente ubicada dentro de <a href="https://bookdown.org/yihui/blogdown/content.html"><code>~/content</code></a>. Por ejemplo, en este blog la <code>baseURL</code> es <code>franciscoyira.com/es</code> y el feed con los posts es <code>franciscoyira.com/es/post/index.xml</code>.</p>
<p>En otros templates de blogdown esta carpeta puede tener otro nombre, pero el rasgo distintivo que permite identificarla es que <strong>dentro de ella se guardan los art√≠culos del blog</strong> (archivos en formato <code>.Rmd</code>, <code>.Rmarkdown</code> o <code>.md</code>). A veces el nombre de esta carpeta est√° especificado en un archivo <code>config.toml</code> en el directorio ra√≠z del repositorio<a href="#fn3" class="footnote-ref" id="fnref3"><sup>3</sup></a>.</p>
<div class="figure">
<img src="images/feed_the_rss_aggregator.png" alt="" />
<p class="caption"><em>Feed RSS de mi blog previsualizado con The RSS Aggregator</em></p>
</div>
<p>Una vez obtenida la URL del feed RSS puede ser buena idea <strong>previsualizarla</strong> para as√≠ validar su contenido. Para ello se pueden usar opciones como estas:</p>
<ul>
<li><p><a href="https://codebeautify.org/rssviewer">RSS Viewer</a>: una herramienta web en la cual se ingresa la URL del feed y se obtiene una vista HTML de este.</p></li>
<li><p><a href="https://chrome.google.com/webstore/detail/the-rss-aggregator/ffhafkagcdhnhamiaecajogjcfgienom">The RSS Aggregator</a>: un lector RSS disponible como extensi√≥n para Chrome y Edge (Chromium). Al instalarlo podremos visualizar los feeds RSS directamente en el navegador.</p></li>
<li><p><a href="https://feedly.com/">Feedly</a>: un lector RSS disponible como servicio web. Es muy completo y popular pero requiere crear una cuenta.</p></li>
</ul>
</div>
<div id="paso-3-crear-el-newsletter-automatizado-a-partir-del-feed-rss" class="section level4">
<h4>Paso 3: Crear el newsletter automatizado a partir del feed RSS</h4>
<p>Ya con la URL del feed RSS en mano, procedemos a crear la automatizaci√≥n de MailChimp para enviar un correo cada vez que se publique un nuevo art√≠culo.</p>
<p>Para ello hay que ir a <a href="https://mailchimp.com/features/rss-to-email/">esta p√°gina</a> y hacer clic en el bot√≥n <strong>‚ÄúTurn On RSS-to-Email‚Äù</strong>.</p>
<p><img src="images/turn_on_rss_to_email.png" /></p>
<p>Luego aparecer√° una vista como esta, donde se le debe asignar un nombre a la ‚Äúcampa√±a‚Äù (<strong><em>‚ÄúCampaign Name‚Äù</em></strong>). Este nombre es interno y tiene como fin distinguir este env√≠o recurrente de otros env√≠os (manuales o automatizados) que implementemos en el futuro.</p>
<p><img src="images/share_blog_updates.png" /></p>
<p>Presionamos ‚ÄúBegin‚Äù, y en la siguiente p√°gina hay que <strong>ingresar la famosa URL del feed RSS</strong> obtenida en el paso anterior. Adem√°s, se puede configurar a qu√© hora se enviar√°n los correos automatizados<a href="#fn4" class="footnote-ref" id="fnref4"><sup>4</sup></a>. Si todo est√° OK, hay que presionar <strong>‚ÄúNext‚Äù</strong> en la esquina inferior derecha.</p>
<p><img src="images/step1_newsletter_general.png" /></p>
<p>En la siguiente pantalla hay que <strong>seleccionar la audiencia a la que le llegar√° el newsletter</strong>. Aqu√≠ dejaremos el valor por defecto (<em>‚ÄúEntire audience‚Äù</em>) ya que estamos creando un newsletter √∫nico (no segmentado) para todos los suscriptores<a href="#fn5" class="footnote-ref" id="fnref5"><sup>5</sup></a>.</p>
<p><img src="images/step_select_audience.png" /></p>
<p>Luego de presionar <strong>‚ÄúNext‚Äù</strong> aparecer√° la secci√≥n de ‚ÄúInformaci√≥n de campa√±a‚Äù, donde se pueden personalizar otros par√°metros del newsletter.</p>
<p><img src="images/campaign_info_es.png" /></p>
<p>El primer campo (<strong><em>‚ÄúCampaign name‚Äù</em></strong>) corresponde al mismo ‚Äúnombre de campa√±a‚Äù que ingresamos en la primera parte del asistente, y que es solo de uso interno.</p>
<p>El segundo campo (<strong><em>‚ÄúEmail subject‚Äù</em></strong>) s√≠ es relevante para los suscriptores: es el <strong>t√≠tulo o asunto de los correos que recibir√°n</strong>. Aqu√≠ es posible usar los llamados <a href="https://mailchimp.com/help/rss-merge-tags/">‚Äú<em>merge tags</em>‚Äù de MailChimp</a>: variables que son reemplazadas por atributos provenientes desde el feed RSS, o del gestor de audiencias de MailChimp (por ej, el nombre o apellido de cada suscriptor, o la fecha de publicaci√≥n del art√≠culo). En mi caso, uso el tag <code>*|RSSITEM:TITLE|*</code> que corresponde al <strong>t√≠tulo de cada nuevo art√≠culo</strong>.</p>
<p>El tercer campo (<strong><em>‚ÄúPreview text‚Äù</em></strong>) corresponde al fragmento que aparece debajo del asunto en las apps de correo electr√≥nico.</p>
<div class="figure">
<img src="images/previewtext01.png" alt="" />
<p class="caption"><em>As√≠ se ve el ‚ÄúPreview text‚Äù en las apps de correo electr√≥nico. Fuente: <a href="https://kb.benchmarkemail.com/en/what-is-preview-text-and-how-can-it-benefit-my-email/">benchmarkemail.com</a></em></p>
</div>
<p>No logr√© encontrar un merge tag √∫til para personalizar el <em>preview text</em>, as√≠ que opt√© por un mensaje est√°tico: ‚Äú<em>Abre este correo para leer el art√≠culo completo</em>‚Äù, pensando en incrementar la tasa de apertura del newsletter.</p>
<p>Los √∫ltimos 2 campos de esta secci√≥n corresponden al <strong>remitente</strong>: el nombre (<strong><em>‚ÄúFrom name‚Äù</em></strong>) y correo (<strong><em>‚ÄúFrom email address‚Äù</em></strong>) que aparecer√°n en el ‚ÄúDe:‚Äù o ‚ÄúFrom:‚Äù cuando los suscriptores reciban el newsletter. Aqu√≠ la idea es usar algo f√°cilmente reconocible para evitar que los suscriptores se confundan y piensen que es spam.</p>
<p>M√°s abajo en la misma p√°gina hay algunas opciones adicionales, pero que pueden dejarse con sus valores por defecto sin modificar.</p>
<p>A continuaci√≥n presionamos <strong>Next</strong> y pasamos a la siguiente secci√≥n: <strong>escoger la plantilla para el newsletter</strong>. En esta secci√≥n mi recomendaci√≥n es elegir <em>‚Äú1 Column‚Äù</em> o <em>‚ÄúSimple Text‚Äù</em>, que tienen lo justo y necesario para que nuestros posts se muestren correctamente. Para este tutorial elegir√© <em>‚ÄúSimple Text‚Äù</em>.</p>
<div class="figure">
<img src="images/select_template_es.png" alt="" />
<p class="caption"><em>Las plantilla b√°sicas ‚Äú1 Column‚Äù y ‚ÄúSimple Text‚Äù son buenas opciones para un Newsletter de blogposts.</em></p>
</div>
<p>Habiendo seleccionado la plantilla, aparecer√° la vista de <strong>Dise√±o (<em>‚ÄúDesign‚Äù</em>)</strong> donde hay que hacer algunos cambios para que el newsletter funcione de manera adecuada.</p>
<div class="figure">
<img src="images/design_mail_start_es.png" alt="" />
<p class="caption"><em>As√≠ luce la vista de Dise√±o del newsletter luego de haber escogido la plantilla ‚ÄúSimple Text‚Äù</em></p>
</div>
<p>En particular, debemos insertar una serie de <em>merge tags RSS</em> para que contenido del newsletter se alimente de los nuevos posts del blog.</p>
<p>Para m√≠, la forma m√°s sencilla de hacer esto fue <strong>borrar todos los bloques que vienen con la plantilla</strong>, e <strong>insertar 3 nuevos bloques de texto</strong> (<em>‚ÄúText‚Äù</em> desde la galer√≠a de contenido de la derecha). Luego seleccion√© y edit√© estos bloques, e insert√© ah√≠ los merge tags correspondientes.</p>
<p>A continuaci√≥n describo cada uno de estos bloques (junto al c√≥digo HTML para replicarlos):</p>
<p>Primero, un <strong>bloque de cabecera</strong>, muy simple, en un tama√±o de letra peque√±o y con un link directo al post en el blog. ¬øPor qu√©? Debido a que a veces los clientes de correo no muestran correctamente el contenido de los newsletters y en estos casos queremos que el lector pueda ir f√°cilmente al art√≠culo original usando un navegador web<a href="#fn6" class="footnote-ref" id="fnref6"><sup>6</sup></a>.</p>
<p>El HTML para este bloque es el siguiente:</p>
<p><code>&lt;span style="font-size:12px"&gt;&lt;a href="*|RSSITEM:URL|*" target="_blank"&gt;Ver el post en tu navegador&lt;/a&gt;&amp;nbsp;(recomendado).&lt;/span&gt;</code></p>
<p>Y deber√≠a verse as√≠ en el panel de la izquierda:</p>
<p><img src="images/cabecera_es.png" /></p>
<p>N√≥tese la presencia del merge tag <code>*|RSSITEM:URL|*</code> en el link. Este merge tag se reemplazar√° por la URL correspondiente al post en cada env√≠o del newsletter.</p>
<p>Luego viene un <strong>bloque de contenido</strong>, cuyo c√≥digo es el siguiente:</p>
<pre><code>&lt;h2 class=&quot;mc-toc-title&quot;&gt;&lt;span style=&quot;font-family:helvetica neue,helvetica,arial,verdana,sans-serif&quot;&gt;&lt;a href=&quot;*|RSSITEM:URL|*&quot; target=&quot;_blank&quot;&gt;*|RSSITEM:TITLE|*&lt;/a&gt;&lt;/span&gt;&lt;/h2&gt;
&lt;span style=&quot;font-family:helvetica neue,helvetica,arial,verdana,sans-serif&quot;&gt;*|RSSITEM:CONTENT_FULL|*&lt;/span&gt;

&lt;pre&gt;
&lt;span style=&quot;font-family:helvetica neue,helvetica,arial,verdana,sans-serif&quot;&gt;*|END:RSSITEMS|*&lt;/span&gt;
&lt;/pre&gt;</code></pre>
<p>Y deber√≠a verse as√≠ en el panel de la izquierda:</p>
<p><img src="images/content_block_es.png" /></p>
<p>Y finalmente un <strong>bloque <em>footer</em></strong>, con elementos obligatorios como la licencia del contenido y el link de desuscripci√≥n. El c√≥digo que us√© para este bloque es el siguiente:</p>
<pre><code>&lt;em&gt;Este trabajo est&amp;aacute; licenciado bajo &amp;nbsp;&lt;a href=&quot;http://creativecommons.org/licenses/by/4.0/&quot; rel=&quot;license&quot;&gt;Creative Commons Attribution 4.0 International License&lt;/a&gt;.&lt;/em&gt;&lt;br /&gt;
&lt;br /&gt;
*|LIST:DESCRIPTION|*&lt;br /&gt;
&lt;br /&gt;
&amp;iquest;Quieres cambiar como recibes estos e-mails?&lt;br /&gt;
Puedes &lt;a href=&quot;*|UPDATE_PROFILE|*&quot;&gt;actualizar tus preferencias&lt;/a&gt; o &lt;a href=&quot;*|UNSUB|*&quot;&gt;desuscribirte de esta lista&lt;/a&gt;.&lt;br /&gt;
&lt;br /&gt;
*|REWARDS|*</code></pre>
<p>Y deber√≠a verse as√≠ en el panel de la izquierda:</p>
<p><img src="images/footer_block_es.png" /></p>
<p>Por supuesto, en este √∫ltimo bloque deber√≠as modificar la parte de la licencia en caso de que quieras usar una distinta a <a href="https://creativecommons.org/licenses/by/4.0/">CC 4.0</a>.</p>
<p>Notar que MailChimp ofrece un editor visual para los bloques de texto, por lo que <em>t√©cnicamente</em> no es necesario manipular HTML: los merge tags se pueden insertar ‚Äútal cual‚Äù en este editor visual, y su formato (fuente, tama√±o) se puede modificar desde ah√≠. Pero yo <strong>prefiero compartirles los bloques de c√≥digo porque as√≠ es m√°s f√°cil seguir las instrucciones</strong>: solo basta copiar y pegar. Una vez copiados los bloques se puede cambiar sin problemas al editor visual para seguir personaliz√°ndolos.</p>
<p>Y listo, habiendo ya dise√±ado y personalizado el newsletter podemos echarle un vistazo a como lucir√° en las bandejas de entrada de nuestros suscriptores ‚ú®. Para esto existe el men√∫ <em>‚Äú<strong>Preview and Test</strong>‚Äù</em> en la esquina superior derecha, dentro de la misma secci√≥n <em>Design</em>. Este men√∫ permite previsualizar un correo de prueba en la web de MailChimp o en la aplicaci√≥n m√≥vil, e incluso enviarnos un correo de prueba a nosotros mismos (o a amigos dispuestos a ser conejillos de indias).</p>
<p><img src="images/previsualizacion_modos.png" /></p>
<p>Una vez conformes con c√≥mo se ver√° el newsletter presionamos <strong><em>‚ÄúNext‚Äù</em></strong> y avanzamos al √∫ltimo paso de esta secci√≥n: <strong>Confirmar que todo est√© OK y dar luz verde a los env√≠os autom√°ticos</strong>.</p>
<p><img src="images/confirm_nresletter_es.png" /></p>
<p>En esta p√°gina se puede dar un √∫ltimo vistazo a las opciones del env√≠o, y volver atr√°s si es que aun queremos cambiar algo. Si todo nos parece bien, hay 2 opciones para que el newsletter empiece a operar:</p>
<ul>
<li><p><strong><em>Start RSS</em></strong> (bot√≥n abajo a la derecha): pone en marcha la automatizaci√≥n, pero a partir del pr√≥ximo post que se publique en blog. Es decir, <strong>no se enviar√° nada al momento de presionarlo</strong>, pero s√≠ cuando publiquemos nuevos art√≠culos en el futuro.</p></li>
<li><p><strong><em>Send now and Start RSS campaign</em></strong> (disponible al hacer clic en flecha al lado de <em>‚ÄúStart RSS‚Äù</em>): tambi√©n pone en marcha la automatizaci√≥n, pero realiza de inmediato un primer env√≠o con el √∫ltimo post disponible en el blog.</p></li>
</ul>
<p>Hay que elegir una de las 2 opciones y presionar el bot√≥n correspondiente, ¬°y listo! Nuestro newsletter automatizado ya est√° funcionando.</p>
<p>Pero a√∫n falta una parte muy importante: implementar el formulario de suscripci√≥n para que nuevos lectores puedan darse de alta.</p>
</div>
<div id="paso-4-implementar-el-formulario-de-suscripci√≥n" class="section level4">
<h4>Paso 4: Implementar el formulario de suscripci√≥n</h4>
<p>Mientras que en Buttondown el formulario de suscripci√≥n viene configurado por defecto y sin muchas opciones de personalizaci√≥n, en MailChimp se nos da la posibilidad de <strong>dise√±arlo nosotros mismos</strong>. El proceso de dise√±o es relativamente sencillo ya que contamos con un editor visual: para acceder a √©l solo hay que ir a <strong><em>Audience &gt; Signup forms</em></strong> y ah√≠ hacer clic en <strong>‚ÄúForm Builder‚Äù</strong>.</p>
<p><img src="images/form_builder_es.png" /></p>
<p>Lo primero que veremos dentro del editor visual ser√° el <strong>formulario de suscripci√≥n predeterminado de MailChimp</strong>. Este incluye el campo de correo electr√≥nico, que es el √∫nico estrictamente necesario, y tambi√©n otros como fecha de nacimiento, nombre, y apellido. Depende de nosotros cu√°les de estos campos adicionales conservar y cu√°les eliminar.</p>
<p>Para eliminar un campo hay que seleccionarlo y luego presionar <strong><em>‚ÄúDelete‚Äù</em></strong> en la parte inferior del panel de la derecha. Se nos mostrar√° una advertencia ya que eliminar el campo implica tambi√©n eliminar los datos vinculados a este (en el gestor de audiencias de MailChimp). Si ya hay datos asociados a este campo puede convenir simplemente ocultarlo (opci√≥n tambi√©n disponible en el panel de la derecha).</p>
<p>Adem√°s, se pueden agregar campos nuevos para recolectar informaci√≥n adicional. Esto lo usaremos en la siguiente secci√≥n para implementar los newsletters segmentados, pero para el newsletter simple nos basta y sobra con el campo de correo electr√≥nico.</p>
<div class="figure">
<img src="images/subscription_form.png" alt="" />
<p class="caption"><em>As√≠ se ve un formulario simple (s√≥lo con un campo de correo) dentro del editor visual de MailChimp.</em></p>
</div>
<p>Una vez personalizado el formulario de suscripci√≥n tenemos 2 opciones para agregarlo a nuestro blog:</p>
<ol style="list-style-type: decimal">
<li><p>La m√°s simple: <strong>usar el enlace directo al formulario de suscripci√≥n</strong>. Este enlace apunta a un formulario alojado en MailChimp que luce id√©ntico al dise√±ado/previsualizado en el editor visual. Este se puede obtener en la secci√≥n <strong><em>‚ÄúSignup form URL‚Äù</em></strong> dentro del editor visual de formularios. Con esta URL se puede crear un link desde cualquier lugar visible del blog (por ej., la barra de navegaci√≥n).</p>
<p><img src="images/get_url_signup.png" /></p></li>
<li><p><strong>Incrustar el formulario en nuestro blog mediante c√≥digo HTML</strong>. Esto es m√°s complejo, pero evita que lectores tengan que ir a una URL externa para suscribirse, y adem√°s da al formulario una apariencia m√°s consistente con el resto de nuestro blog.</p></li>
</ol>
<p>Para implementar el formulario HTML incrustado hay que volver a <em>Audience &gt; Signup forms</em>, pero ahora entrando en la secci√≥n <strong>‚ÄúEmbedded forms‚Äù</strong>.</p>
<p>En esta secci√≥n hay varias opciones de formularios incrustados, algunas con CSS y JavaScript, pero recomendar√≠a usar la opci√≥n <em>Unstyled</em>: un formulario HTML b√°sico que reduce la posibilidad de conflicto con el tema del blog.</p>
<p>Luego de seleccionar el formulario <em>Unstyled</em> recomiendo adem√°s desactivar la opci√≥n <em>Include form title</em>, porque el formulario se incrustar√° en una p√°gina Markdown que ya tiene su propio t√≠tulo.</p>
<p><img src="images/get_embeded_form1-01.png" /></p>
<p>Es importante mencionar que los campos de este formulario y los del formulario que dise√±amos en el editor visual son los mismos. <strong>No estamos creando un formulario distinto</strong>, sino que usando otra forma de acceder a √©l.</p>
<p>Luego de configurar las opciones, hay que ir al final de la p√°gina y presionar el bot√≥n <strong>‚ÄúGenerate Embed Code‚Äù</strong>.</p>
<p><img src="images/get_embed_form2.png" /></p>
<p>Se debe copiar el c√≥digo que aparecer√° ah√≠, y pegarlo en el archivo <code>.md</code> correspondiente (aquel donde queremos que se muestre el formulario de suscripci√≥n). El c√≥digo debe ir debajo de la cabecera YAML (en mi caso agregu√© tambi√©n un peque√±o texto explicativo entre la cabecera y el formulario).</p>
<p><img src="images/paste_embed_code_mailchimp.png" /></p>
<p>Al hacer <em>knit</em> del blog, la p√°gina con el formulario de suscripci√≥n deber√≠a lucir as√≠:</p>
<p><img src="images/embed_form_inblog.png" /></p>
<p><em>¬°Y listo!</em> Aqu√≠ ya tenemos un formulario de suscripci√≥n totalmente funcional, conectado al newsletter automatizado que creamos en la secci√≥n anterior.</p>
<p>Sin embargo, yo hice 2 ajustes adicionales, totalmente opcionales, que creo que mejoran la apariencia y funcionalidad del formulario.</p>
<p>Primero, <strong>cambiar el estilo del bot√≥n ‚ÄúSubscribe‚Äù</strong>. El por defecto no tiene mucha apariencia de bot√≥n, y adem√°s le falta un salto de l√≠nea que lo separe del campo <em>Email Address</em>. Para esto hay que buscar este c√≥digo:</p>
<pre class="HTML"><code>&lt;input type=&quot;submit&quot; value=&quot;Subscribe&quot; name=&quot;subscribe&quot; id=&quot;mc-embedded-subscribe&quot; class=&quot;button&quot;&gt;</code></pre>
<p>Y reemplazarlo por este c√≥digo:</p>
<pre class="HTML"><code>&lt;/br&gt; &lt;div class=&quot;clear&quot;&gt;&lt;input type=&quot;submit&quot; value=&quot;Subscribe&quot; name=&quot;subscribe&quot; id=&quot;mc-embedded-subscribe&quot; style=&quot;height:27px; width:100px; font-size:16px&quot;&gt;&lt;/div&gt;</code></pre>
<p>Segundo, <strong>agregar al final de la p√°gina un link al formulario alojado en MailChimp</strong> (el enlace directo que vimos en la secci√≥n anterior). ¬øPor qu√©? Por la eventualidad de alguien que desee suscribirse pero use alg√∫n bloqueador de contenido (por ej., uBlock Origin) que le impida visualizar el formulario incrustado. Con este link esas personas tendr√°n una forma alternativa de darse de alta en el newsletter.</p>
<p>Para hacer este cambio basta con agregar un texto con el link correspondiente <em>despu√©s</em> de que termine el c√≥digo del formulario incrustado (es decir, despu√©s de esta l√≠nea: <code>&lt;!--End mc_embed_signup--&gt;</code>).</p>
<p>Al hacer estos cambios la apariencia del formulario quedar√° as√≠:</p>
<p><img src="images/embeded_form_v2-01.png" /></p>
</div>
</div>
</div>
<div id="m√©todo-3-newsletter-automatizado-y-segmentado-con-mailchimp" class="section level2">
<h2>M√©todo 3: newsletter automatizado y segmentado con MailChimp</h2>
<p>Estamos llegando a la parte final de este tutorial. Si sigues leyendo hasta aqu√≠ es porque no te basta con tener un √∫nico newsletter con todo el contenido de tu blog, sino que deseas tener <strong>varias listas de distribuci√≥n, segmentadas por idioma, por tema, o ambas</strong>.</p>
<p>Para no extender tanto este art√≠culo (que ya esta siendo bastante largo), aqu√≠ no har√© una explicaci√≥n ‚Äúpaso por paso‚Äù como en secciones anteriores, sino que <strong>ser√° una especie de anexo de la secci√≥n anterior</strong> (m√©todo 2), mostrando qu√© cosas hay que hacer distinto para obtener un newsletter segmentado (eso implica que si saltaste directo desde la introducci√≥n hasta ac√°, tendr√°s que subir y leer primero la parte del m√©todo 2, lo siento üòÖ).</p>
<div id="conseguir-los-feed-rss-espec√≠ficos-para-cada-tema-yo-idioma" class="section level3">
<h3>Conseguir los feed RSS espec√≠ficos para cada tema y/o idioma</h3>
<p>El primer cambio necesario para tener listas de distribuci√≥n segmentadas es <strong>usar feeds RSS espec√≠ficos</strong> con el contenido que recibir√° cada segmento.</p>
<p>Ilustrar√© esto con un ejemplo de este mismo blog: aqu√≠ implement√© listas de distribuci√≥n exclusivas para el contenido de Data Science, una en ingl√©s y otra en espa√±ol. Para esto fue necesario obtener 2 feeds RSS:</p>
<ol style="list-style-type: decimal">
<li><p>Feed con el contenido de Data Science en ingl√©s</p></li>
<li><p>Feed con el contenido de Data Science en espa√±ol</p></li>
</ol>
<p>Al tener un sitio multiling√ºe con <code>blogdown</code> es muy sencillo obtener feeds RSS espec√≠ficos para cada idioma: basta con <strong>agregar el c√≥digo del idioma</strong> (por ej., <em>es</em>, <em>fr</em>, <em>en</em>) <strong>justo despu√©s de la <code>baseURL</code></strong>. En el caso de este blog los feeds con contenido en espa√±ol e ingl√©s son los siguientes:</p>
<ul>
<li><p>Espa√±ol: <code>franciscoyira.com/es/post/index.xml</code></p></li>
<li><p>Ingl√©s: <code>franciscoyira.com/post/index.xml</code></p></li>
</ul>
<p>Donde <code>franciscoyira.com</code> corresponde a la <code>baseURL</code>. Notar el sufijo <code>es/</code> en el feed en espa√±ol (en el feed en ingl√©s no hay sufijo porque <a href="https://github.com/franciscoyira/personalblog_hugo/blob/8ad38636ed080424babeef37d15d3eca344d0815/config.toml#L2">est√° configurado como el idioma ‚Äúbase‚Äù del blog</a>).</p>
<p>OK, ah√≠ ya tenemos una regla para obtener los feeds correspondientes a cada idioma, pero ¬øc√≥mo obtener un feed que tenga s√≥lo los posts sobre Data Science (o cualquier otro tema)?</p>
<p>Para esto debemos usar la <strong>estructura de tags y categor√≠as</strong> de nuestro blog. En mi caso simplemente cre√© una categor√≠a denominada <code>data-science</code> y empec√© a marcar todos los posts de Data Science con esta categor√≠a.</p>
<p>Aqu√≠ entra la magia de <code>hugo</code>, que autom√°ticamente genera p√°ginas para cada tag y categor√≠a. En el caso de este ejemplo, se generaron las siguientes p√°ginas con los posts de la categor√≠a <code>data-science</code>:</p>
<p><code>franciscoyira.com/es/categories/data-science/</code> para los posts en espa√±ol, y‚Ä¶</p>
<p><code>franciscoyira.com/categories/data-science/</code>¬†para los posts en ingl√©s.</p>
<p>Y como vimos en la secci√≥n anterior, <code>hugo</code> tambi√©n crea autom√°ticamente feeds RSS para las p√°ginas de este tipo. <strong>Para acceder a estos feeds simplemente hay agregar el sufijo <code>index.xml</code> al final</strong>, por lo que los feeds de la categor√≠a <code>data-science</code> ser√°n estos:</p>
<p><code>franciscoyira.com/es/categories/data-science/index.xml</code> para los posts en espa√±ol, y‚Ä¶</p>
<p><code>franciscoyira.com/categories/data-science/index.xml</code>¬†para los posts en ingl√©s.</p>
<p>Las instrucciones son muy similares si queremos usar tags en vez de categor√≠as: por lo general bastar√° con reemplazar <code>categories</code> por <code>tags</code> en las URLs.</p>
<p>Como consideraci√≥n, mencionar que <strong>los tags/categor√≠as en distintos idiomas no tienen por qu√© llamarse igual</strong>, de hecho se configuran por separado y el que aqu√≠ tengan el mismo nombre es solo coincidencia. En mi blog quise que la categor√≠a de Data Science tuviera el mismo nombre en espa√±ol e ingl√©s, pero perfectamente los posts en espa√±ol podr√≠an estar categorizados como <code>ciencia-de-datos</code> en cuyo caso la URL del feed ser√≠a as√≠:</p>
<p><code>franciscoyira.com/es/categories/ciencia-de-datos/index.xml</code></p>
<p>Y esto no afectar√≠a en nada la URL del feed de Data Science en ingl√©s.</p>
<div id="tldr" class="section level4">
<h4>TL;DR</h4>
<p>En resumen, <strong>depende de nosotros mismos crear una estructura de tags o categor√≠as acorde a las listas de distribuci√≥n que queramos tener</strong>. Una vez definida esta estructura, es sencillo obtener las URLs de los feeds RSS correspondientes: basta con encontrar la pagina del tag o categor√≠a respectiva (para lo cual incluso se puede usar la navegaci√≥n del blog) y agregar <code>index.xml</code> al final.</p>
<p>Y para especificar un idioma particular (en el caso de blogs multiling√ºes) solo hace falta agregar el c√≥digo de idioma despu√©s de la <code>baseURL</code>, siempre que se trate de un idioma distinto del ‚Äúidioma base‚Äù.</p>
</div>
</div>
<div id="crear-segmentos-para-cada-lista-de-distribuci√≥n" class="section level3">
<h3>Crear segmentos para cada lista de distribuci√≥n</h3>
<p>Otro ingrediente necesario para segmentar un newsletter es contar con las respectivos <em>campos de datos</em> o <em>columnas</em> en el gestor de audiencias de MailChimp, indicando a qu√© segmento pertenece cada suscriptor.</p>
<p>MailChimp ofrece varias formas de crear categor√≠as de suscriptores, y una de ellas literalmente se llama <em>Segmentos</em>, pero <strong>la que en realidad nos conviene usar se llama <em>Grupos</em></strong> (es confuso, lo s√©), ya que est√° directamente vinculada con los formularios de suscripci√≥n.</p>
<p>Para crear grupos hay que ir a <em>Audience &gt; All Contacts</em>, ah√≠ seleccionar el men√∫ drop-down <strong>‚ÄúManage contacts‚Äù</strong> y hacer clic en ‚ÄúGroups‚Äù.</p>
<p><img src="images/create_groups.png" /></p>
<p>Dentro de la secci√≥n <em>‚ÄúGroups‚Äù</em> hay que presionar el bot√≥n <strong><em>‚ÄúCreate Groups‚Äù</em></strong>, a la derecha de la pantalla.</p>
<p>Ah√≠ aparecer√° la siguiente p√°gina de configuraci√≥n, donde se debe ingresar el <strong>nombre</strong> (<em>Group category</em>) y <strong>posibles valores</strong> (<em>Group names</em>) del grupo a crear. Tambi√©n se debe elegir c√≥mo aparecer√°n estas opciones dentro del formulario de suscripci√≥n (radio buttons, dropdown, checkboxes, etc).</p>
<p><img src="images/create_groups2.png" /></p>
<p>Aqu√≠ existe mucha libertad para crear distintos arreglos, dependiendo de c√≥mo queremos que sea el flujo para enrolarse en cada lista de distribuci√≥n<a href="#fn7" class="footnote-ref" id="fnref7"><sup>7</sup></a>.</p>
<p>Para ejemplificar los pasos que vienen despu√©s, replicar√© los mismos grupos que implement√© en mi propio blog, pero ahora usando <em>radio buttons</em> para todos ellos:</p>
<ul>
<li><p>Grupos seg√∫n temas/contenido:</p>
<ol style="list-style-type: decimal">
<li><p>Todo el contenido: para quienes deseen recibir todos los posts que publique</p></li>
<li><p>S√≥lo Data Science: para quienes deseen recibir exclusivamente los posts con la categor√≠a <code>data-science</code>.</p></li>
</ol></li>
<li><p>Grupos seg√∫n idioma:</p>
<ol style="list-style-type: decimal">
<li><p>Espa√±ol</p></li>
<li><p>Ingl√©s</p></li>
</ol></li>
</ul>
<p>Para implementar esta segmentaci√≥n hay que dirigirse a la secci√≥n <em>‚ÄúCreate groups‚Äù</em> ya mencionada y crear los 2 tipos de grupos, escogiendo <em>As radio buttons‚Ä¶</em> para ambos.</p>
<p>Hecho esto, la secci√≥n de grupos deber√≠a verse as√≠:</p>
<p><img src="images/groups_created.png" /></p>
<p>Ahora hay que disponibilizar un formulario que permita elegir entre estos grupos. Para esto, igual que antes, tenemos 2 opciones:</p>
<ul>
<li><p><strong>Usar un link directo a un formulario alojado en MailChimp.</strong> Los pasos para hacer esto son id√©nticos que los para el newsletter no segmentado.</p></li>
<li><p><strong>Incrustar un formulario en nuestro blog.</strong> Aqu√≠ los pasos son muy similares a los del newsletter no segmentado, con una sola diferencia: dentro de <em>Audience &gt; Signup forms &gt; Embedded Forms &gt; Unstyled</em> hay que asegurarse de activar la casilla <strong><em>‚ÄúShow interest group fields‚Äù</em></strong>. Lo dem√°s es todo igual: obtener el c√≥digo HTML y pegarlo en un archivo <code>.md</code> de nuestra preferencia, dentro del repositorio del blog.</p></li>
</ul>
<p>En ambos casos los grupos creados en el paso anterior se agregar√°n autom√°ticamente al formulario.</p>
<p>Si seguimos la opci√≥n del formulario incrustado, el resultado deber√≠a lucir as√≠:</p>
<p><img src="images/form_content_options.png" /></p>
<p>Aqu√≠ <strong>ya contamos con un formulario funcional</strong> que permitir√° a los lectores escoger su propia lista de suscripci√≥n en base a idioma e intereses/contenido. <em>T√©cnicamente</em> no es necesario hacer nada m√°s y podr√≠an saltar de aqu√≠ a la secci√≥n final del tutorial pero si les gusta rizar el rizo como a mi pueden leer a continuaci√≥n c√≥mo hacer algunas mejoras al formulario incrustado.</p>
<div id="m√°s-personalizaci√≥n-para-el-formulario-incrustado" class="section level4">
<h4>M√°s personalizaci√≥n para el formulario incrustado</h4>
<p>Si hemos optado por el formulario incrustado tenemos la opci√≥n de hacer algunos <strong>ajustes est√©ticos adicionales</strong>.</p>
<p>Para empezar, se pueden aplicar los mismos ajustes mostrados en la secci√≥n de newsletter no segmentado: mejorar el bot√≥n de suscripci√≥n, a√±adir un salto de l√≠nea despu√©s del campo de correo electr√≥nico, y poner un link al formulario en MailChimp al final de la p√°gina (ante la eventualidad de que un bloqueador de contenido no permita visualizar el formulario incrustado).</p>
<p>Adicional a ello, creo que ac√° es buena idea <strong>cambiar los textos descriptivos de los grupos</strong>. Por ejemplo, dado que el formulario de este ejemplo ser√≠a biling√ºe, aumentar√≠a su usabilidad el describir las opciones tanto en ingl√©s como en espa√±ol.</p>
<p>Para lograr esto basta con ir al archivo <code>.md</code> donde est√° el formulario, invocar CTRL+F (o ‚åò+F en Mac), buscar el texto que se muestra actualmente en el formulario y cambiarlo por otro nuevo que nos parezca m√°s apropiado. En este caso, aplicar√© los siguientes cambios:</p>
<p><img src="images/before_form_personalization.png" width="750" /></p>
<p><img src="images/after_form_personalization.png" width="750" /></p>
<p><strong>Notar que esto no cambia el nombre interno de los campos de datos en el gestor de audiencias de MailChimp</strong>. All√≠ los campos siguen llam√°ndose ‚Äú<em>Intereses/contenido"</em> e‚Äù<em>Idioma"</em>, y los valores asociados a cada alternativa son las opciones originales que configuramos en MailChimp.</p>
<p>Dicho de otra forma, existe simult√°neamente un ‚Äúvalor interno‚Äù y un ‚Äúvalor para mostrar‚Äù para cada grupo y opci√≥n. Esto es √∫til ya que permite usar nombres cortos en los valores internos y nombres m√°s largos y explicativos en los ‚Äúvalores para mostrar‚Äù.</p>
<p>Una vez conformes con la apariencia del formulario, hemos completado el segundo de los requisitos para tener un newsletter segmentado. Ahora vamos a usar estos ingredientes para el paso final: <strong>configurar el newsletter segmentado</strong>.</p>
</div>
</div>
<div id="mezclado-los-ingredientes-para-crear-un-newsletter-segmentado" class="section level3">
<h3>Mezclado los ingredientes para crear un newsletter segmentado</h3>
<p>Una vez que tenemos las URLs de los feeds RSS, los segmentos de audiencia, y el formulario que permite a los suscriptores escoger su segmento, es hora de combinar todo esto para echar a andar nuestro newsletter segmentado ‚ú®.</p>
<p><img src="images/diagrama_es_segmented_newsletter.png" /></p>
<p>Lo que hay que hacer aqu√≠ es simplemente <strong>repetir el proceso de crear un newsletter automatizado</strong> (explicado ya en la secci√≥n anterior) para <em>cada uno</em> de los segmentos, pero haciendo 2 cambios:</p>
<ol style="list-style-type: decimal">
<li>Al momento de ingresar la URL del feed RSS, hay que usar la URL correspondiente al feed del tema/idioma espec√≠fico para el segmento.</li>
</ol>
<p><img src="images/customize_URL_newsletter.png" /></p>
<ol start="2" style="list-style-type: decimal">
<li>En el paso de escoger la audiencia, en vez de seleccionar <em>Entire audience</em> hay que elegir <em>Group or new segment</em>. Al hacerlo aparecer√° debajo un cuadro para <strong>indicar los criterios que definen la audiencia segmentada</strong>, y los grupos creados en pasos anteriores estar√°n dentro de los criterios disponibles. Por ejemplo, en este caso, se puede segmentar a los suscriptores seg√∫n la opci√≥n de <em>Idioma</em> e <em>Intereses/contenido</em> que escogieron en el formulario de suscripci√≥n.</li>
</ol>
<p><img src="images/choose_audience-01.png" /></p>
<p>¬°Y listo! El resto de los pasos son id√©nticos a los del newsletter sin segmentaci√≥n. Solo recalcar√≠a la necesidad de repetir el proceso con <em>cada uno</em> de los segmentos<a href="#fn8" class="footnote-ref" id="fnref8"><sup>8</sup></a>, configurando una automatizaci√≥n distinta para todos ellos.</p>
<p><em>Tu feedback es bienvenido. Si tienes comentarios sobre este art√≠culo puedes envi√°rmelos <a href="mailto:francisco.yira@outlook.com">por correo</a>.</em></p>
<p><em>Por cierto, luego de este art√≠culo retomo <a href="https://www.franciscoyira.com/es/tags/causal-inference-the-mixtape/">la serie sobre el libro Causal Inference: The Mixtape</a>. El pr√≥ximo post estar√° dedicado al <a href="https://mixtape.scunning.com/potential-outcomes.html">cap√≠tulo 4</a>, acerca el modelo causal de Potential Outcomes.</em></p>
</div>
</div>
<div class="footnotes">
<hr />
<ol>
<li id="fn1"><p>Algunas pocas opciones son de pago, como la posibilidad de eliminar el logo de Buttondown de los correos, pero casi todas las opciones que alguien podr√≠a querer usar en un newsletter b√°sico son gratuitas.<a href="#fnref1" class="footnote-back">‚Ü©Ô∏é</a></p></li>
<li id="fn2"><p>Las instrucciones para activar los feeds RSS con contenido completo no las cubrir√© en este post, ya que dependen de la versi√≥n de <code>hugo</code> y del template que estemos usando, y corro el riesgo de escribir algo que no sea aplicable a casos distintos al m√≠o. Si quieres activar esta opci√≥n en tu blog recomendar√≠a estos enlaces como punto de partida: <a href="https://randomgeekery.org/post/2017/09/full-content-hugo-feeds/">(1)</a> , <a href="https://coolbutuseless.bitbucket.io/2018/02/07/blogdown-rss-feed-of-full-articles/">(2)</a>, <a href="https://stackoverflow.com/questions/48997278/how-do-i-get-my-blogdown-blog-on-r-bloggers/#">(3)</a> y <a href="https://www.rockyourcode.com/til-how-to-create-full-text-rss-feed-for-hugo/">(4)</a>.<a href="#fnref2" class="footnote-back">‚Ü©Ô∏é</a></p></li>
<li id="fn3"><p>Alternativamente tambi√©n se puede usar este feed: <code>baseURL/index.xml</code>. Pero este incluir√° tambi√©n las p√°ginas de primer nivel, tales como ‚ÄúAcerca de‚Äù, ‚ÄúCont√°ctame‚Äù, etc. , y tambi√©n las p√°ginas de otras secciones, si es que las hay (por ejemplo, si hay una secci√≥n ‚ÄúPortafolio‚Äù, este feed incluir√° tambi√©n las p√°ginas dentro de ella). Lo m√°s probable que NO queramos que estas p√°ginas se env√≠en como newsletter. Por eso mi sugerencia es <strong>buscar un feed que contenga √∫nicamente los posts o art√≠culos</strong>.<a href="#fnref3" class="footnote-back">‚Ü©Ô∏é</a></p></li>
<li id="fn4"><p>Notar que se enviar√°n correos nuevos en esos d√≠as/horas <strong>s√≥lo si existe contenido nuevo desde el env√≠o anterior</strong>, en caso contrario no se enviar√° nada. Por otro lado, si se desactivan algunos d√≠as y se publica un art√≠culo ah√≠, Mailchimp tendr√° que esperar hasta el siguiente d√≠a con env√≠os habilitados para poder enviar el newsletter. Por ello, mi recomendaci√≥n aqu√≠ ser√≠a dejar intacta la opci√≥n por defecto, que es intentar enviar correos todos los d√≠as.<a href="#fnref4" class="footnote-back">‚Ü©Ô∏é</a></p></li>
<li id="fn5"><p>Ya en la siguiente secci√≥n explicar√© los cambios necesarios para introducir segmentaci√≥n en el newsletter, pero por ahora estoy intentando explicar el proceso de la forma m√°s simple posible.<a href="#fnref5" class="footnote-back">‚Ü©Ô∏é</a></p></li>
<li id="fn6"><p>Por ejemplo, <a href="https://medium.com/@brentonhenry/its-2019-and-outlook-is-still-rendered-with-word-675ca1a5d1a0#:~:text=Outlook%20renders%20your%20email%20using%20Word.%20Yes%2C%20the,in%20the%20%E2%80%9CEnterprise%E2%80%9D%20Standard%20product%20that%20is%20Outlook.">Microsoft Outlook Desktop utiliza ¬°Word! como visor de HTML</a>, y a la vez es una aplicaci√≥n muy utilizada en empresas, por lo que es casi seguro que alguno de nuestros suscriptores recibir√° el newsletter ah√≠ y tendr√° una mala experiencia si no lo redirigimos a un navegador web a leer el art√≠culo.<a href="#fnref6" class="footnote-back">‚Ü©Ô∏é</a></p></li>
<li id="fn7"><p>Por ejemplo, yo defin√≠ el Idioma como una <em>Group category</em> que est√° oculta en los formularios: si te suscribes en el <a href="https://www.franciscoyira.com/es/subscribe/">formulario en espa√±ol</a> recibir√°s contenido en espa√±ol, y si usas el <a href="https://www.franciscoyira.com/subscribe/">formulario en ingl√©s</a> recibir√°s contenido en ingl√©s. Pero tambi√©n podr√≠a haber configurado un formulario √∫nico, biling√ºe, donde la opci√≥n de idioma se pudiera escoger desde un <em>dropdown</em> o con <em>radio buttons</em>.<a href="#fnref7" class="footnote-back">‚Ü©Ô∏é</a></p></li>
<li id="fn8"><p>En este ejemplo ser√≠an 4 segmentos, correspondientes a la combinatoria de los grupos de <em>Idioma</em> y de <em>Intereses/contenido</em>: Todo-Ingl√©s, Todo-Espa√±ol, Data Science-Ingl√©s y Data Science-Espa√±ol.<a href="#fnref8" class="footnote-back">‚Ü©Ô∏é</a></p></li>
</ol>
</div>
